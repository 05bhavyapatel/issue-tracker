<div class="admin-container">
    <div class="admin-header">
        <h2 class="admin-logo">Issue Tracker :- Project Manager</h2>
        <div class="header-buttons">
            <button mat-raised-button class="home-button" routerLink="/pm"><mat-icon>arrow_back</mat-icon>Go back</button>
            <button mat-raised-button class="home-button" routerLink="/home">
                <mat-icon>exit_to_app</mat-icon> Log out
              </button>
        </div>
    </div>

    <div class="content">
        <div class="content-box">
            <div class="filter-section">
                <label>Status:
                    <select [(ngModel)]="filterStatus">
                        <option value="">All</option>
                        <option value="OPEN">OPEN</option>
                        <option value="IN_PROGRESS">IN_PROGRESS</option>
                        <option value="CLOSED">CLOSED</option>
                    </select>
                </label>

                <label>Priority:
                    <select [(ngModel)]="filterPriority">
                        <option value="" class="all">All</option>
                        <option value="LOW">LOW</option>
                        <option value="MEDIUM">MEDIUM</option>
                        <option value="HIGH">HIGH</option>
                    </select>
                </label>

                <button (click)="applyFilter()" class="btn">
                    <span class="material-icons">filter_alt</span> Apply Filter
                  </button>
                
            </div>

            <table class="issue-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Title</th>
                        <th>Status</th>
                        <th>Priority</th>
                        <th>Assignee</th>
                        <th>Reporter</th>
                        <th>Project</th>
                        <th>Created Date</th>
                        <th>Due Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let issue of filteredIssues">
                      <td>{{ issue.id }}</td>
                      <td>{{ issue.title }}</td>
                      <td>{{ issue.status }}</td>
                      <td>{{ issue.priority }}</td>
                      <td>{{ issue.assignee ? issue.assignee.username : 'Unassigned' }}</td>
                      <td>{{ issue.reporter ? issue.reporter.username : 'Unknown' }}</td>
                      <td>{{ issue.project.name }}</td>
                      <td>{{ issue.createdDate }}</td>
                      <td>{{ issue.dueDate }}</td>
                    </tr>
                  </tbody>
            </table>

        </div>
    </div>
</div>